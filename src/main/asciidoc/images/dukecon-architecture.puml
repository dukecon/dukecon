@startuml
skinparam handwritten true

actor :DukeCon Officer:
actor :Conference Participant:

node "PC / Browser" {
    [DukeCon Admin] <<Client>>
    [DukeCon HTML5] <<Client>> as DukeConHtml5PC
}

node "Mobile Device" {
    [DukeCon Flex] <<Client>>
    [DukeCon HTML5] <<Client>> as DukeConHtml5Mobile
}

cloud "DukeCon Infrastructure" {
    node DukeCon-Server <<Docker : Java8>> {
        [DukeCon] <<Service>>
    }

    node KeyCloak-Server <<Docker : WildFly>> {
        [KeyCloak] <<Service>>
    }

    node DukeCon-DB <<Docker : PostgreSQL>> {
        database DukeCon_PostgreSQL
    }

    node KeyCloak-DB <<Docker : PostgreSQL>> {
        database KeyCloak_PostgreSQL
    }
    [DukeCon] --> [DukeCon_PostgreSQL] : JDBC
    [KeyCloak] --> [KeyCloak_PostgreSQL] : JDBC
}

:DukeCon Officer: -down-> (DukeCon Admin)
:Conference Participant: -down-> DukeConHtml5PC : Compile conference program (at Home?)
':Conference Participant: -down-> DukeConHtml5PC : Read/Compile conference program (during Conference)
:Conference Participant: -down-> (DukeCon Flex) : Read/Compile conference program (during Conference)

(DukeCon HTML5) -down-> (DukeCon) : Conf. Data/Favorites
(DukeCon HTML5) -down-> (KeyCloak) : Authenticate

(DukeCon Flex) -down-> (DukeCon) : Conf. Data/Favorites
(DukeCon Flex) -down-> (KeyCloak) : Authenticate

'(DukeCon Cordova) -down-> (DukeCon) : Conf. Data/Favorites
'(DukeCon Cordova) -down-> (KeyCloak) : Authenticate

cloud "Social Media Cloud(s)" {
    top to bottom direction

    node Github <<OAuth Provider>>
    node Google <<OAuth Provider>>
    node Twitter <<OAuth Provider>>
}

(KeyCloak) -right-> (Github)
(KeyCloak) -right-> (Google)
(KeyCloak) -right-> (Twitter)
@enduml